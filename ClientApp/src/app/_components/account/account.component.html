<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-4">
      <form [formGroup]="registerForm" (ngSubmit)="register()">
        <h2 class="text-center text-primary mt-5">Rejestracja</h2>
        <hr>

        <div class="form-group">
          <input type="text"
                 [ngClass]="{'is-invalid': registerForm.get('username').errors
                  && registerForm.get('username').touched}"
                 class="form-control"
                 formControlName="username"
                 placeholder="Username">
          <div class="invalid-feedback">Please choose a username</div>
        </div>
        <div class="form-group mt-3">
          <input [ngClass]="{'is-invalid': registerForm.get('city').errors && registerForm.get('city').touched}" class="form-control"
                 placeholder="City" formControlName="city">
          <div class="invalid-feedback" *ngIf="registerForm.get('city').touched && registerForm.get('city').hasError('required')">City is required</div>
        </div>
        <div class="form-group">
          <input type="password"
                 [ngClass]="{'is-invalid': registerForm.get('password').errors
                  && registerForm.get('password').touched}"
                 class="form-control"
                 formControlName="password"
                 placeholder="Password">
          <div class="invalid-feedback"
               *ngIf="registerForm.get('password').hasError('required')
                  && registerForm.get('password').touched">
            Password is required
          </div>
          <div class="invalid-feedback"
               *ngIf="registerForm.get('password').hasError('minlength')
                  && registerForm.get('password').touched">
            Password must be at least 6 characters
          </div>
          <div class="invalid-feedback"
               *ngIf="registerForm.get('password').hasError('maxlength')
                  && registerForm.get('password').touched">
            Password cannot exceed 12 characters
          </div>
        </div>

        <div class="form-group">
          <input type="password"
                 [ngClass]="{'is-invalid': registerForm.get('confirmPassword').errors
                  && registerForm.get('confirmPassword').touched
                  || registerForm.get('confirmPassword').touched
                  && registerForm.hasError('mismatch')}"
                 class="form-control"
                 formControlName="confirmPassword"
                 placeholder="Confirm Password">
          <div class="invalid-feedback"
               *ngIf="registerForm.get('confirmPassword').hasError('required')
                  && registerForm.get('confirmPassword').touched">
            Password is required
          </div>

          <div class="invalid-feedback"
               *ngIf="registerForm.hasError('mismatch')
                  && registerForm.get('confirmPassword').touched">
            Password must match
          </div>

        </div>

        <div class="text-center mb-5">
          <button class="btn btn-success" [disabled]="!registerForm.valid" type="submit">Register</button>          
        </div>

      </form>

    </div>
  </div>
</div>


